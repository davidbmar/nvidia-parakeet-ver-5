# NVIDIA Riva ASR Deployment Configuration
# Generated on: 2025-09-18T03:15:43Z
# Deployment ID: riva-20250918-031543

# ============================================================================
# Deployment Strategy
# ============================================================================
DEPLOYMENT_STRATEGY=1
DEPLOYMENT_ID=riva-20250918-031543
DEPLOYMENT_TIMESTAMP=2025-09-18T03:15:43Z
RIVA_HOST_TYPE=aws_ec2

# ============================================================================
# AWS Configuration (for EC2 deployment)
# ============================================================================
AWS_REGION=us-east-2
AWS_ACCOUNT_ID=821850226835
GPU_INSTANCE_TYPE=g4dn.xlarge
SSH_KEY_NAME=dbm-key-sep17-2025

# ============================================================================
# Riva Server Connection
# ============================================================================
RIVA_HOST=3.131.83.194
RIVA_PORT=50051
RIVA_HTTP_PORT=8000
RIVA_SSL=false
RIVA_SSL_CERT=
RIVA_SSL_KEY=

# ============================================================================
# Riva Model Configuration
# ============================================================================
RIVA_MODEL=Conformer-CTC-XL_spe-128_en-US_Riva-ASR-SET-4.0
RIVA_LANGUAGE_CODE=en-US
RIVA_ENABLE_AUTOMATIC_PUNCTUATION=true
RIVA_ENABLE_WORD_TIME_OFFSETS=true

# ============================================================================
# NVIDIA NGC
# ============================================================================
NGC_API_KEY=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

# ============================================================================
# Connection Settings
# ============================================================================
RIVA_TIMEOUT_MS=5000
RIVA_MAX_RETRIES=3
RIVA_RETRY_DELAY_MS=1000

# ============================================================================
# Performance Tuning
# ============================================================================
RIVA_MAX_BATCH_SIZE=8
RIVA_CHUNK_SIZE_BYTES=8192
RIVA_ENABLE_PARTIAL_RESULTS=true
RIVA_PARTIAL_RESULT_INTERVAL_MS=300

# ============================================================================
# Application Server Settings
# ============================================================================
APP_HOST=0.0.0.0
APP_PORT=8443
APP_SSL_CERT=/opt/riva/certs/server.crt
APP_SSL_KEY=/opt/riva/certs/server.key

# ============================================================================
# WebSocket Settings
# ============================================================================
WS_MAX_CONNECTIONS=100
WS_PING_INTERVAL_S=30
WS_MAX_MESSAGE_SIZE_MB=10

# ============================================================================
# Audio Processing
# ============================================================================
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_ENCODING=pcm16
AUDIO_MAX_SEGMENT_DURATION_S=30
AUDIO_VAD_ENABLED=true
AUDIO_VAD_THRESHOLD=0.5

# ============================================================================
# Observability
# ============================================================================
LOG_LEVEL=INFO
LOG_DIR=/opt/riva/logs
METRICS_ENABLED=y
METRICS_PORT=9090
TRACING_ENABLED=false
TRACING_ENDPOINT=http://localhost:4317

# ============================================================================
# Development/Testing
# ============================================================================
DEBUG_MODE=false
TEST_AUDIO_PATH=/opt/riva/test_audio

# ============================================================================
# Status Flags (used by deployment scripts)
# ============================================================================
CONFIG_VALIDATION_PASSED=true
RIVA_DEPLOYMENT_STATUS=pending
APP_DEPLOYMENT_STATUS=pending
TESTING_STATUS=pending
EBS_CACHE_VOLUME_ID="vol-0dead77258a1d2a55"
EBS_CACHE_DEVICE="/dev/nvme1n1"
EBS_CACHE_MOUNT_POINT="/mnt/cache"
EBS_CACHE_CONFIGURED="true"
NIM_CACHE_DIR="/mnt/cache/nim-cache"

# ============================================================================
# S3 Deployment Strategy Configuration (auto-generated by riva-007)
# ============================================================================
S3_DISCOVERY_TIMESTAMP="2025-09-18 04:46:51 UTC"
DEPLOYMENT_APPROACH=riva
GPU_TYPE_DETECTED=t4
GPU_MEMORY_MB=16384
RIVA_SERVER_SELECTED=riva-speech-2.15.0.tar.gz
RIVA_SERVER_SIZE="13.1 GiB"
RIVA_SERVER_PATH=s3://dbm-cf-2-web/bintarball/riva/riva-speech-2.15.0.tar.gz
RIVA_MODEL_SELECTED=Conformer-CTC-XL_spe-128_en-US_Riva-ASR-SET-4.0.riva
RIVA_MODEL_SIZE="1.5 GiB"
RIVA_MODEL_PATH=s3://dbm-cf-2-web/bintarball/models/Conformer-CTC-XL_spe-128_en-US_Riva-ASR-SET-4.0.riva
USE_NIM_DEPLOYMENT=false
USE_RIVA_DEPLOYMENT=true
GPU_INSTANCE_ID=i-0dd214f907617419e
GPU_INSTANCE_IP=3.131.83.194
SECURITY_GROUP_ID=sg-0f766723ae36594f0

# Security Configuration (added by enhanced security script)
AUTHORIZED_IPS_LIST="3.16.124.227 52.15.126.181 136.62.92.204"
AUTHORIZED_IPS_DESCRIPTIONS="llm-ec2 build machine GPU-Instance david macbook"
SECURITY_CONFIGURED=true
IAM_ROLE_NAME="riva-gpu-role"
IAM_INSTANCE_PROFILE_NAME="riva-gpu-profile"
IAM_POLICY_ARN="arn:aws:iam::821850226835:policy/riva-gpu-policy"
S3_READONLY_ACCESS_CONFIGURED="true"
