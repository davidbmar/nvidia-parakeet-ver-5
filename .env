# NVIDIA Riva ASR Deployment Configuration
# Generated on: 2025-09-13T02:35:19Z
# Deployment ID: riva-20250913-023519

# ============================================================================
# Deployment Strategy
# ============================================================================
DEPLOYMENT_STRATEGY=1
DEPLOYMENT_ID=riva-20250913-023519
DEPLOYMENT_TIMESTAMP=2025-09-13T02:35:19Z
RIVA_HOST_TYPE=aws_ec2

# ============================================================================
# AWS Configuration (for EC2 deployment)
# ============================================================================
AWS_REGION=us-east-2
AWS_ACCOUNT_ID=821850226835
GPU_INSTANCE_TYPE=g4dn.xlarge
SSH_KEY_NAME=dbm-sep-12-2025

# ============================================================================
# Riva Server Connection
# ============================================================================
RIVA_HOST=3.131.141.101
RIVA_PORT=50051
RIVA_HTTP_PORT=8000
RIVA_SSL=false
RIVA_SSL_CERT=/opt/riva/certs/riva.crt
RIVA_SSL_KEY=/opt/riva/certs/riva.key

# ============================================================================
# Riva Model Configuration
# ============================================================================
RIVA_MODEL=conformer_en_US_parakeet_rnnt
RIVA_LANGUAGE_CODE=en-US
RIVA_ENABLE_AUTOMATIC_PUNCTUATION=true
RIVA_ENABLE_WORD_TIME_OFFSETS=true

# ============================================================================
# NVIDIA NGC
# ============================================================================
NGC_API_KEY=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

# ============================================================================
# Connection Settings
# ============================================================================
RIVA_TIMEOUT_MS=5000
RIVA_MAX_RETRIES=3
RIVA_RETRY_DELAY_MS=1000

# ============================================================================
# Performance Tuning
# ============================================================================
RIVA_MAX_BATCH_SIZE=8
RIVA_CHUNK_SIZE_BYTES=8192
RIVA_ENABLE_PARTIAL_RESULTS=true
RIVA_PARTIAL_RESULT_INTERVAL_MS=300

# ============================================================================
# Application Server Settings
# ============================================================================
APP_HOST=0.0.0.0
APP_PORT=8443
APP_SSL_CERT=/opt/riva/certs/server.crt
APP_SSL_KEY=/opt/riva/certs/server.key

# ============================================================================
# WebSocket Settings
# ============================================================================
WS_MAX_CONNECTIONS=100
WS_PING_INTERVAL_S=30
WS_MAX_MESSAGE_SIZE_MB=10

# ============================================================================
# Audio Processing
# ============================================================================
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_ENCODING=pcm16
AUDIO_MAX_SEGMENT_DURATION_S=30
AUDIO_VAD_ENABLED=true
AUDIO_VAD_THRESHOLD=0.5

# ============================================================================
# Observability
# ============================================================================
LOG_LEVEL=INFO
LOG_DIR=/opt/riva/logs
METRICS_ENABLED=y
METRICS_PORT=9090
TRACING_ENABLED=false
TRACING_ENDPOINT=http://localhost:4317

# ============================================================================
# Development/Testing
# ============================================================================
DEBUG_MODE=false
TEST_AUDIO_PATH=/opt/riva/test_audio

# ============================================================================
# Status Flags (used by deployment scripts)
# ============================================================================
CONFIG_VALIDATION_PASSED=true
RIVA_DEPLOYMENT_STATUS=pending
APP_DEPLOYMENT_STATUS=pending
TESTING_STATUS=pending
GPU_INSTANCE_ID=i-0f139416639bdb087
GPU_INSTANCE_IP=3.131.141.101
SECURITY_GROUP_ID=sg-0db185319e0d8dca9

# Security Configuration (added by riva-015-configure-security-access.sh)

# ============================================================================
# NIM Container Configuration (auto-added by riva-022)
# ============================================================================
NIM_CONTAINER_NAME=parakeet-nim-ctc-t4
NIM_IMAGE=nvcr.io/nim/nvidia/parakeet-0-6b-ctc-riva:1.0.0
NIM_TAGS_SELECTOR=ctc-streaming
NIM_MODEL_NAME=parakeet-ctc-1.1b-asr
NIM_HTTP_API_PORT=9000
NIM_GRPC_PORT=50051
NIM_PREREQUISITES_CONFIGURED=true
NGC_CONFIGURED_TIMESTAMP=2025-09-13T03:10:42Z
RIVA_ENVIRONMENT_READY=passed
EBS_CACHE_VOLUME_ID=vol-039f291981b0f3d58
EBS_CACHE_DEVICE=/dev/nvme1n1
EBS_CACHE_MOUNT_POINT=/mnt/cache
EBS_CACHE_CONFIGURED=true
NIM_CACHE_DIR=/mnt/cache/nim-cache
NIM_S3_CACHE_BUCKET=dbm-cf-2-web
NIM_S3_CACHE_PATH=s3://dbm-cf-2-web/bintarball/nim-containers/parakeet-ctc-1.1b-asr-1.0.0.tar
NIM_S3_CACHE_REGION=us-east-2
NIM_S3_CACHED=true
NIM_S3_CACHE_SIZE_GB=13.34
NIM_S3_CACHE_TIMESTAMP=2025-09-13T03:47:00Z
NIM_DEPLOYMENT_METHOD=s3_cache
NIM_DEPLOYED_FROM_S3=true
NIM_DEPLOYMENT_TIMESTAMP=2025-09-13T04:19:33Z

# ============================================================================
# S3 Model Discovery Configuration (T4-optimized Two-Pass)
# ============================================================================
NIM_S3_DISCOVERY_TIMESTAMP=2025-09-13T05:32:00Z
NIM_DEPLOYMENT_MODE=two_pass
NIM_GPU_TYPE_DETECTED=t4
NIM_S3_MODEL_PRIMARY=parakeet-0-6b-ctc-riva-t4-cache.tar.gz
NIM_S3_MODEL_PRIMARY_TYPE=streaming
NIM_S3_MODEL_PRIMARY_PATH=s3://dbm-cf-2-web/bintarball/nim-models/t4-models/parakeet-0-6b-ctc-riva-t4-cache.tar.gz
NIM_S3_MODEL_SECONDARY=parakeet-tdt-0.6b-v2-offline-t4-cache.tar.gz
NIM_S3_MODEL_SECONDARY_TYPE=offline
NIM_S3_MODEL_SECONDARY_PATH=s3://dbm-cf-2-web/bintarball/nim-models/t4-models/parakeet-tdt-0.6b-v2-offline-t4-cache.tar.gz
NIM_S3_MODEL_ENHANCEMENT=punctuation-riva-t4-cache.tar.gz
NIM_S3_MODEL_ENHANCEMENT_TYPE=enhancement
NIM_S3_MODEL_ENHANCEMENT_PATH=s3://dbm-cf-2-web/bintarball/nim-models/t4-models/punctuation-riva-t4-cache.tar.gz
NIM_ENABLE_REAL_TIME=true
NIM_ENABLE_BATCH=true
NIM_ENABLE_TWO_PASS=true

# ============================================================================
# Unified S3 Deployment Configuration (2025-09-13 06:38:37 UTC)
# ============================================================================
NIM_S3_UNIFIED_DEPLOYMENT=true
NIM_S3_UNIFIED_TIMESTAMP=2025-09-13T06:38:37Z
NIM_S3_CONTAINER_SELECTED=parakeet-ctc-1.1b-asr-1.0.0.tar
NIM_S3_CONTAINER_PATH=s3://dbm-cf-2-web/bintarball/nim-containers/t4-containers/parakeet-ctc-1.1b-asr-1.0.0.tar
NIM_S3_CONTAINER_SIZE="13.3 GiB"
NIM_S3_MODEL_SELECTED=parakeet-0-6b-ctc-riva-t4-cache.tar.gz
NIM_S3_MODEL_PATH=s3://dbm-cf-2-web/bintarball/nim-models/t4-models/parakeet-0-6b-ctc-riva-t4-cache.tar.gz
NIM_S3_MODEL_SIZE="4.4 GiB"
NIM_S3_MODEL_TYPE=streaming
NIM_DEPLOYMENT_METHOD=s3_unified
NIM_CONTAINER_NAME=parakeet-nim-s3-unified

# Security Configuration (added by riva-015-configure-security-access.sh)
AUTHORIZED_IPS_LIST="3.16.124.227 3.131.141.101 136.62.92.204"
AUTHORIZED_IPS_DESCRIPTIONS="LLM-ec2 GPU-Instance macbook"
SECURITY_CONFIGURED=true

# ============================================================================
# Unified S3 Deployment Configuration (2025-09-14 01:17:15 UTC)
# ============================================================================
NIM_S3_UNIFIED_DEPLOYMENT=true
NIM_S3_UNIFIED_TIMESTAMP=2025-09-14T01:17:15Z
NIM_S3_CONTAINER_SELECTED=parakeet-0-6b-ctc-en-us-latest.tar.gz
NIM_S3_CONTAINER_PATH=s3://dbm-cf-2-web/bintarball/nim-containers/t4-containers/parakeet-0-6b-ctc-en-us-latest.tar.gz
NIM_S3_CONTAINER_SIZE="10.3 GiB"
NIM_S3_MODEL_SELECTED=parakeet-0-6b-ctc-riva-t4-cache.tar.gz
NIM_S3_MODEL_PATH=s3://dbm-cf-2-web/bintarball/nim-models/t4-models/parakeet-0-6b-ctc-riva-t4-cache.tar.gz
NIM_S3_MODEL_SIZE="4.4 GiB"
NIM_S3_MODEL_TYPE=streaming
NIM_DEPLOYMENT_METHOD=s3_unified
NIM_CONTAINER_NAME=parakeet-nim-s3-unified

# ============================================================================
# Unified S3 Deployment Configuration (2025-09-14 04:00:59 UTC)
# ============================================================================
NIM_S3_UNIFIED_DEPLOYMENT=true
NIM_S3_UNIFIED_TIMESTAMP=2025-09-14T04:00:59Z
NIM_S3_CONTAINER_SELECTED=parakeet-0-6b-ctc-en-us-latest.tar.gz
NIM_S3_CONTAINER_PATH=local
NIM_S3_CONTAINER_SIZE="cached locally"
NIM_S3_MODEL_SELECTED=parakeet-0-6b-ctc-riva-t4-cache.tar.gz
NIM_S3_MODEL_PATH=local
NIM_S3_MODEL_SIZE="cached locally"
NIM_S3_MODEL_TYPE=optimized
NIM_DEPLOYMENT_METHOD=s3_unified
NIM_CONTAINER_NAME=parakeet-nim-s3-unified
